<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Admin Panel - Maggie Point">
    <title>Admin Panel - Maggie Point</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <a href="/" class="brand-logo">
                    <span class="logo-icon">üçú</span>
                    <span class="logo-text">Maggie<span class="logo-highlight">Point</span></span>
                </a>
                <div class="admin-badge">Admin Panel</div>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-section="orders">
                    <span class="nav-icon">üì¶</span>
                    <span>Manage Orders</span>
                </a>
                <a href="#" class="nav-item" data-section="dishes">
                    <span class="nav-icon">üçú</span>
                    <span>Manage Dishes</span>
                </a>
                <a href="#" class="nav-item" data-section="users">
                    <span class="nav-icon">üë•</span>
                    <span>Manage Users</span>
                </a>
                <a href="#" class="nav-item" data-section="admins">
                    <span class="nav-icon">üëë</span>
                    <span>Admins</span>
                </a>
                <a href="#" class="nav-item" data-section="activities">
                    <span class="nav-icon">üìú</span>
                    <span>Activity Feed</span>
                </a>
                <a href="#" class="nav-item" data-section="logs">
                    <span class="nav-icon">üíª</span>
                    <span>System Logs</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="admin-profile">
                    <div class="profile-avatar" id="adminAvatar">A</div>
                    <div class="profile-info">
                        <div class="profile-name" id="adminName">Admin</div>
                        <div class="profile-email" id="adminEmail">admin@example.com</div>
                    </div>
                </div>
                <button class="btn btn-ghost btn-full" id="logoutBtn">Logout</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Header -->
            <header class="admin-header">
                <h1 class="page-title" id="pageTitle">Dashboard</h1>
                <div class="header-actions">
                    <a href="/" class="btn btn-outline">View Website</a>
                </div>
            </header>

            <!-- Content Sections -->
            <div class="admin-content">
                <!-- Dashboard Section -->
                <section id="section-dashboard" class="content-section active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üì¶</div>
                            <div class="stat-value" id="statOrders">0</div>
                            <div class="stat-label">Pending Orders</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üí∞</div>
                            <div class="stat-value" id="statRevenue">‚Çπ0</div>
                            <div class="stat-label">Total Revenue</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-value" id="statUsers">0</div>
                            <div class="stat-label">Total Users</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üçú</div>
                            <div class="stat-value" id="statDishes">0</div>
                            <div class="stat-label">Total Dishes</div>
                        </div>
                    </div>

                    <div class="quick-actions">
                        <h2 class="section-subtitle">Quick Actions</h2>
                        <div class="actions-grid">
                            <button class="action-card" data-action="view-orders">
                                <span class="action-icon">üì¶</span>
                                <span class="action-label">View Orders</span>
                            </button>
                            <button class="action-card" data-action="add-dish">
                                <span class="action-icon">‚ûï</span>
                                <span class="action-label">Add New Dish</span>
                            </button>
                            <button class="action-card" data-action="view-users">
                                <span class="action-icon">üë•</span>
                                <span class="action-label">View Users</span>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Orders Section -->
                <section id="section-orders" class="content-section">
                    <div class="section-header">
                        <h2 class="section-subtitle">Manage Orders</h2>
                        <div class="status-filters" id="orderFilters">
                            <button class="filter-chip active" data-status="all">All</button>
                            <button class="filter-chip" data-status="pending">Verify</button>
                            <button class="filter-chip" data-status="confirmed">Active</button>
                            <button class="filter-chip" data-status="delivered">Done</button>
                        </div>
                    </div>
                    <div class="orders-list" id="ordersGrid">
                        <!-- Orders loaded via JS -->
                    </div>
                </section>

                <!-- Dishes Section -->
                <section id="section-dishes" class="content-section">
                    <div class="section-header">
                        <h2 class="section-subtitle">All Dishes</h2>
                        <button class="btn btn-primary" id="addDishBtn">
                            <span>‚ûï</span>
                            <span>Add Dish</span>
                        </button>
                    </div>
                    <div class="dishes-grid" id="dishesGrid">
                        <!-- Dishes will be loaded here -->
                    </div>
                </section>

                <!-- Users Section -->
                <section id="section-users" class="content-section">
                    <div class="section-header">
                        <h2 class="section-subtitle">All Users</h2>
                        <div style="display: flex; gap: 1rem;">
                            <div class="search-box">
                                <input type="text" placeholder="Search users..." id="userSearch">
                            </div>
                            <button class="btn btn-primary" id="createUserBtn">
                                <span>‚ûï</span>
                                <span>Create User</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table" id="usersTable">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Mobile</th>
                                    <th>Room</th>
                                    <th>Admin</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Admins Section -->
                <section id="section-admins" class="content-section">
                    <div class="section-header">
                        <h2 class="section-subtitle">Admin Users</h2>
                    </div>
                    <div class="admins-grid" id="adminsGrid">
                        <!-- Admins will be loaded here -->
                    </div>
                </section>

                <!-- Activity Feed Section -->
                <section id="section-activities" class="content-section">
                    <div class="section-header">
                        <h2 class="section-subtitle">Real-time Activity Feed</h2>
                        <div class="header-actions">
                            <button class="btn btn-outline" id="refreshActivitiesBtn">Refresh Feed</button>
                        </div>
                    </div>
                    <div class="activity-feed" id="activityBox"
                        style="display: flex; flex-direction: column; gap: 12px; height: 600px; overflow-y: auto; padding-right: 10px;">
                        <p style="color: #666; text-align: center; padding: 40px;">Syncing activities...</p>
                    </div>
                </section>

                <!-- Raw Logs Section -->
                <section id="section-logs" class="content-section">
                    <div class="section-header">
                        <h2 class="section-subtitle">Terminal Logs (Raw)</h2>
                        <div class="header-actions">
                            <button class="btn btn-outline" id="refreshLogsBtn">Refresh Output</button>
                        </div>
                    </div>
                    <div class="logs-container"
                        style="background: #000; color: #0f0; font-family: 'Courier Prime', monospace; padding: 20px; border-radius: 8px; height: 600px; overflow-y: auto; border: 1px solid #333; line-height: 1.5; font-size: 13px;"
                        id="logsBox">
                        Fetching raw logs...
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Add/Edit Dish Modal -->
    <div class="modal" id="dishModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalDishTitle">Add New Dish</h3>
                <button class="modal-close" id="closeDishModal">&times;</button>
            </div>
            <form class="modal-body" id="dishForm">
                <div class="form-group">
                    <label class="form-label">Dish Name</label>
                    <input type="text" class="form-input" id="dishName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-input" id="dishDescription" rows="3" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Price (‚Çπ)</label>
                        <input type="number" class="form-input" id="dishPrice" min="0" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select class="form-select" id="dishCategory" required>
                            <option value="Maggie">Maggie</option>
                            <option value="Beverages">Beverages</option>
                            <option value="Snacks">Snacks</option>
                            <option value="Combo">Combo</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Emoji</label>
                        <input type="text" class="form-input" id="dishEmoji" placeholder="üçú" maxlength="2">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Available</label>
                        <select class="form-select" id="dishAvailable">
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-ghost" id="cancelDishBtn">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="saveDishBtn">Save Dish</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Create User Modal -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Create New User</h3>
                <button class="modal-close" id="closeUserModal">&times;</button>
            </div>
            <form class="modal-body" id="userForm">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">First Name</label>
                        <input type="text" class="form-input" id="userFirstName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Last Name</label>
                        <input type="text" class="form-input" id="userLastName" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="userEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Mobile</label>
                    <input type="tel" class="form-input" id="userMobile" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Floor</label>
                        <select class="form-select" id="userFloor" required>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Room</label>
                        <input type="text" class="form-input" id="userRoom" required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" id="userPassword" required minlength="4">
                </div>
                <div class="form-checkbox">
                    <input type="checkbox" id="userIsAdmin">
                    <label for="userIsAdmin">Make Admin Account</label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-ghost" id="cancelUserBtn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create User</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Reset Password Modal -->
    <div class="modal" id="resetPasswordModal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h3 class="modal-title">Reset Password</h3>
                <button class="modal-close" id="closeResetModal">&times;</button>
            </div>
            <form class="modal-body" id="resetPasswordForm">
                <p style="margin-bottom: 1rem; color: rgba(255,255,255,0.7);">
                    Resetting password for: <strong id="resetTargetUser" style="color:white;"></strong>
                </p>
                <div class="form-group">
                    <label class="form-label">New Password</label>
                    <input type="password" class="form-input" id="newPassword" required minlength="4">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-ghost" id="cancelResetBtn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Reset Password</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/js/admin.js"></script>
</body>

</html>